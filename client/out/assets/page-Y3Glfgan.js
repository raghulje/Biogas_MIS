import{u as b,a as y,r as a,j as e,N as j}from"./index-D5WwrTj-.js";import{s as w}from"./srel-BMzgRxSF.js";function C(){const i=b(),{login:h,isAuthenticated:n,loading:x}=y(),[s,u]=a.useState({email:"",password:""}),[d,c]=a.useState(!1),[m,t]=a.useState(""),[r,p]=a.useState(!1);if(a.useEffect(()=>{if(n){i("/dashboard",{replace:!0});return}window.scrollTo(0,0)},[n,i]),!x&&n)return e.jsx(j,{to:"/dashboard",replace:!0});const v=async l=>{l.preventDefault(),c(!0),t("");try{await h(s.email,s.password),i("/dashboard")}catch(o){if(!o.response){t("Cannot connect to server. Check that the backend is running and VITE_API_URL matches the server port.");return}const f=o.response?.data?.message||o.response?.data?.error;t(f||"Invalid email or password. Please try again.")}finally{c(!1)}},g=l=>{u({...s,[l.target.name]:l.target.value}),t("")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-gray-50 to-slate-100 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 opacity-[0.02]",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),e.jsx("div",{className:"max-w-md w-full relative z-10",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-10",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"relative",children:e.jsx("img",{src:w,alt:"SREL Logo",className:"h-16 w-auto object-contain"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Industrial Biogas Plant MIS"})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx("i",{className:"ri-mail-line text-gray-400 text-lg"})}),e.jsx("input",{id:"email",name:"email",type:"email",value:s.email,onChange:g,className:"block w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-400 bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent focus:bg-white transition-all text-sm shadow-sm",placeholder:"Enter your email",required:!0,autoComplete:"email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx("i",{className:"ri-lock-line text-gray-400 text-lg"})}),e.jsx("input",{id:"password",name:"password",type:r?"text":"password",value:s.password,onChange:g,className:"block w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-400 bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent focus:bg-white transition-all text-sm shadow-sm",placeholder:"Enter your password",required:!0,autoComplete:"current-password"}),e.jsx("button",{type:"button",onClick:()=>p(!r),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-900 transition-colors duration-200 focus:outline-none cursor-pointer z-10","aria-label":r?"Hide password":"Show password",tabIndex:-1,children:e.jsx("i",{className:`text-lg ${r?"ri-eye-line":"ri-eye-off-line"}`})})]})]}),m&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-lg p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-error-warning-line text-red-600 text-lg mt-0.5"}),e.jsx("p",{className:"text-sm text-red-700 font-medium",children:m})]})}),e.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gray-900 text-white py-3.5 rounded-lg font-semibold hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:d?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-lg"}),e.jsx("span",{children:"Signing in..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Sign In"}),e.jsx("i",{className:"ri-arrow-right-line text-lg"})]})})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:["Â© ",new Date().getFullYear()," Refex Group. All rights reserved."]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Secure Admin Access"})]})})]})})]})}export{C as default};
//# sourceMappingURL=page-Y3Glfgan.js.map
