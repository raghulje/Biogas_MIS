import{w as n}from"./index-D5WwrTj-.js";const s=n.create({baseURL:"http://localhost:5001/api",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});s.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("token"),window.location.pathname.includes("/login")||(window.location.href="/login")),Promise.reject(e)));const i={createEntry:async e=>(await s.post("/mis-entries",e)).data,getEntries:async()=>(await s.get("/mis-entries")).data,getEntryById:async e=>(await s.get(`/mis-entries/${e}`)).data,updateEntry:async(e,t)=>(await s.put(`/mis-entries/${e}`,t)).data,deleteEntry:async e=>(await s.delete(`/mis-entries/${e}`)).data,submitEntry:async e=>(await s.post(`/mis-entries/${e}/submit`)).data,approveEntry:async e=>(await s.post(`/mis-entries/${e}/approve`)).data,rejectEntry:async(e,t)=>(await s.post(`/mis-entries/${e}/reject`,{review_comment:t})).data,exportEntries:async e=>(await s.get("/mis-entries/export",{params:e,responseType:"blob"})).data,importEntries:async e=>{const t=new FormData;return t.append("file",e),(await s.post("/mis-entries/import",t,{headers:{"Content-Type":"multipart/form-data"}})).data},getDashboardData:async(e={})=>{const r={period:e.period??"month"};return e.startDate&&(r.startDate=e.startDate),e.endDate&&(r.endDate=e.endDate),(await s.get("/dashboard/daily",{params:r})).data},getConsolidatedData:async e=>(await s.get("/mis-entries/consolidated",{params:e})).data,getEntriesForReport:async e=>(await s.get("/mis-entries/for-report",{params:e})).data,getImportTemplate:async()=>(await s.get("/mis-entries/import-template",{responseType:"blob"})).data};export{i as misService};
//# sourceMappingURL=misService-LLTObjZP.js.map
